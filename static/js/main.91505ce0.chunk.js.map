{"version":3,"sources":["images/logo.a307e1c4.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","images/Close_Icon.svg","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","index.js"],"names":["Header","className","src","headerLogo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","useState","card","likes","some","i","_id","liked","setLiked","isOwn","owner","cardDeleteButtonClassName","cardLikeButtonClassName","link","name","onClick","onCardClick","onCardLike","type","length","onCardDelete","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","Footer","PopupWithForm","isOpen","container","closeBtn","onClose","onSubmit","id","noValidate","title","children","button","ImagePopup","api","options","this","headers","baseUrl","fetch","then","_checkResult","catch","_showError","method","newName","newAbout","body","JSON","stringify","data","cardId","res","ok","json","Promise","reject","status","err","console","log","isLiked","addLike","removeLike","authorization","EditProfilePopup","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","value","onChange","target","minLength","maxLength","required","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","placeholder","ref","AddPlacePopup","setLink","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","selectedCard","setSelectedCard","isPopupWithImageOpen","setIsPopupWithImageOpen","setCards","setCurrentUser","closeAllPopups","promises","getUserInfo","getInitialCards","all","user","error","Provider","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","setUserInfo","result","updateAvatarImage","addCard","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.91505ce0.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.a307e1c4.a307e1c4.svg\";","import headerLogo from \"../images/logo.a307e1c4.svg\";\n\nfunction Header(){\n    return(\n    <div className=\"header\">\n        <img className=\"header__logo\" src={headerLogo} alt=\"Главный логотип\"/>\n    </div>\n    )\n}\nexport default Header;\n","import React from 'react';\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n    const currentUser = React.useContext(CurrentUserContext);\n\n    const [liked, setLiked] = React.useState(\n        props.card.likes.some((i) => i._id === currentUser._id)\n    );\n    const isOwn = props.card.owner._id === currentUser._id;\n\n    function handleClick() {\n        props.onCardClick(props.card);\n    }\n\n    function handleLikeClick() {\n        setLiked(!liked);\n        props.onCardLike(props.card);\n    }\n\n    const cardDeleteButtonClassName = (`element__trash ${isOwn ? '' : 'element__trash_hidden'}`);\n    const cardLikeButtonClassName = (`element__like ${liked && 'element__like_active'}`);\n\n    function handleDeleteClick() {\n        props.onCardDelete(props.card);\n    }\n\n    return (\n     <div className=\"element\">\n         <img className=\"element__link\" src={props.card.link} alt={props.card.name} onClick={handleClick}/>\n         <div className=\"element__header\">\n             <h2 className=\"element__text\">{props.card.name}</h2>\n             <button className={cardLikeButtonClassName} onClick={handleLikeClick} type=\"button\"/>\n             <span className=\"element__number\">{props.card.likes.length}</span>\n             <button className={cardDeleteButtonClassName} onClick={handleDeleteClick} type=\"button\"/>\n         </div>\n     </div>\n ) \n}\n\nexport default Card;","import React from 'react';\nimport Card from './Card.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main(props) {\n    const currentUser = React.useContext(CurrentUserContext);\n\n\n\n\n    return ( <div className=\"main\" >\n        <section className=\"profile\" >\n        <div className=\"profile__header\" >\n        <div className=\"profile__avatar-container\" >\n        <img className=\"profile__avatar\"\n             src={currentUser.avatar}\n             alt=\"Фото профиля\"\n        />\n        <button className=\"profile__avatar-button\" onClick={props.onEditAvatar}/>\n        </div>\n            <div className=\"profile__info\" >\n        <div className=\"profile__line\" >\n        <h1 className=\"profile__title\" > {currentUser.name} </h1>\n            <button className=\"profile__editbutton\"\n        type=\"button\"\n        onClick={props.onEditProfile}\n        />\n        </div>\n                <p className=\"profile__paragraph\" > {currentUser.about} </p>\n            </div>\n        </div>\n            <button className=\"profile__addbutton\"\n        type=\"button\"\n        onClick={props.onAddPlace}\n        />\n        </section>\n\n            <section className=\"elements\" >\n                {props.cards.map((card) => (\n                <Card\n                    key={card._id}\n                    link={card.link}\n                    name={card.name}\n                    likes={card.likes}\n                    onCardClick={props.onCardClick}\n                    card={card}\n                    onCardLike={props.onCardLike}\n                    onCardDelete={props.onCardDelete}\n                />\n            ))}\n\n    </section>\n    </div>\n    );\n}\n\nexport default Main;","function Footer() {\n    return(\n        <footer className=\"footer\">\n            <p className=\"footer__copyright\">© 2021 Тимаков Роман</p>\n        </footer>\n    )\n}\nexport default Footer;","export default __webpack_public_path__ + \"static/media/Close_Icon.118074ba.svg\";","import React from \"react\";\nimport closeBtn from '../images/Close_Icon.svg';\n\nfunction PopupWithForm(props) {\n\nreturn (\n\n    <div className={`popup popup_type_${props.name} ${props.isOpen && 'popup_opened'}`} >\n        <div className={`popup__container ${props.container}`}>\n            <button  src={closeBtn}\n                     alt=\"Кнопка закрыть\"\n                     className=\"popup__close-button\"\n                     onClick={props.onClose}/>\n            <form  className=\"form\"\n                   name={props.name}\n                   onSubmit={props.onSubmit}\n                   id=\"formProfile\"\n                   noValidate>\n                <h2 className=\"form__header\">{props.title}</h2>\n                {props.children}\n                <button type=\"submit\" className=\"form__button\">{props.button}</button>\n            </form>\n        </div>\n    </div>\n\n);\n\n}\nexport default PopupWithForm;","import closeBtn from '../images/Close_Icon.svg';\nimport React from \"react\";\n\nfunction ImagePopup(props) {\n    return(\n        <div className={`popup popup-image ${props.isOpen && 'popup_opened'}`}>\n            <div className=\"popup__container-image\">\n                <button className=\"popup__close-button popup__close-button-image\"\n                        type=\"button\"\n                        src={closeBtn}\n                        alt=\"Кнопка закрыть\"\n                        onClick={props.onClose}\n                />\n                <img className=\"popup__image\" src={`${props.card.link}`}  alt={props.card.name}/>\n                <h3 className=\"popup__title\">{props.card.name}</h3>\n            </div>\n        </div>\n    )\n}\n\nexport default ImagePopup;","export class Api {\n    constructor(options) {\n        this.headers = options.headers;\n        this.baseUrl = options.baseUrl;\n    }\n\n\n    getInitialCards() {\n        return fetch(`${this.baseUrl}/cards`, {\n                headers: this.headers\n            })\n            .then(this._checkResult)\n            .catch(this._showError)\n    }\n\n    getUserInfo() {\n        return fetch(`${this.baseUrl}/users/me`, {\n                method: 'GET',\n                headers: this.headers\n            })\n            .then(this._checkResult)\n            .catch(this._showError)\n    }\n\n    setUserInfo(newName, newAbout) {\n        return fetch(`${this.baseUrl}/users/me`, {\n                method: \"PATCH\",\n                headers: this.headers,\n                body: JSON.stringify({\n                    name: newName,\n                    about: newAbout\n                })\n            })\n            .then(this._checkResult)\n            .catch(this._showError);\n    }\n\n    updateAvatarImage(data) {\n        return fetch(`${this.baseUrl}/users/me/avatar`, {\n                method: 'PATCH',\n                headers: this.headers,\n                body: JSON.stringify(data)\n            })\n            .then(this._checkResult)\n            .catch(this._showError);\n    }\n\n    addCard(name, link) {\n        return fetch(`${this.baseUrl}/cards`, {\n                method: 'POST',\n                headers: this.headers,\n                body: JSON.stringify({\n                    name: name,\n                    link: link\n                })\n\n            })\n            .then(this._checkResult)\n            .catch(this._showError);\n    }\n\n    deleteCard(cardId) {\n        return fetch(`${this.baseUrl}/cards/${cardId}`, {\n                method: 'DELETE',\n                headers: this.headers,\n\n            })\n            .then(this._checkResult)\n            .catch(this._showError);\n    }\n\n    addLike(cardId) {\n        return fetch(`${this.baseUrl}/cards/likes/${cardId}`, {\n                method: 'PUT',\n                headers: this.headers,\n            })\n            .then(this._checkResult)\n            .catch(this._showError);\n    }\n    removeLike(cardId) {\n        return fetch(`${this.baseUrl}/cards/likes/${cardId}`, {\n                method: 'DELETE',\n                headers: this.headers,\n\n            })\n            .then(this._checkResult)\n            .catch(this._showError);\n    }\n\n    _checkResult(res) {\n        if (res.ok) {\n            return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n    };\n\n    _showError(err) {\n        console.log(err);\n        return Promise.reject(err);\n    };\n\n    changeLikeCardStatus(cardId, isLiked) {\n        if (isLiked) {\n            return this.addLike(cardId)\n        } else {\n            return this.removeLike(cardId)\n        }\n    };\n\n}\n\nconst api = new Api({\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-20',\n    headers: {\n        authorization: 'dc63b407-867c-4698-ab85-c3ed97052e84',\n        'Content-type': 'application/json'\n    }\n});\n\nexport default api;\n\n\n\n\n// fetch('https://mesto.nomoreparties.co/v1/cohort-20/cards', {\n//         headers: {\n//             authorization: 'dc63b407-867c-4698-ab85-c3ed97052e84'\n//         }\n//     })\n//     .then(res => res.json())\n//     .then((result) => {\n//         console.log(result);\n//     });","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm.js\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup(props) {\n    const currentUser = React.useContext(CurrentUserContext);\n    const [name, setName] = React.useState(\"\");\n    const [description, setDescription] = React.useState(\"\");\n\n\n    function handleNameChange(e) {\n        setName(e.target.value);\n    }\n    function handleAboutChange(e) {\n        setDescription(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        // Запрещаем браузеру переходить по адресу формы\n        e.preventDefault();\n        // Передаём значения управляемых компонентов во внешний обработчик\n        props.onUpdateUser({ name: name, about: description});\n    }\n\n    // После загрузки текущего пользователя из API\n// его данные будут использованы в управляемых компонентах.\n    React.useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n    }, [currentUser, props.isOpen]);\n\n\n    return (\n        <PopupWithForm\n            name=\"edit\"\n            title=\"Редактировать профиль\"\n            button=\"Сохранить\"\n            onSubmit={handleSubmit}\n            isOpen={props.isOpen}\n            onClose={props.onClose}\n        >\n            <input value={name} id=\"name\" name=\"name\" onChange={handleNameChange} type=\"text\" minLength=\"2\" maxLength=\"40\" className=\"form__name\" required/>\n            <span id=\"name-error\" className=\"error\"/>\n            <input value={description} id=\"job\" name=\"description\" onChange={handleAboutChange} type=\"text\" minLength=\"2\" maxLength=\"200\" className=\"form__name\" required/>\n            <span id=\"job-error\" className=\"error\"/>\n        </PopupWithForm>\n\n    );\n\n}\n\nexport default EditProfilePopup;","import PopupWithForm from \"./PopupWithForm.js\";\nimport React from \"react\";\n\nfunction EditAvatarPopup(props) {\n    const avatarRef = React.useRef();\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onUpdateAvatar({ avatar: avatarRef.current.value })\n    }\n\n    return(\n        <PopupWithForm name=\"avatarPopup\"\n                       title=\"Обновить аватар\"\n                       button=\"Сохранить\"\n                       isOpen={props.isOpen}\n                       onClose={props.onClose}\n                       onSubmit={handleSubmit}\n                       container=\"popup__container-avatar\"\n        >\n            <input id=\"avatar\" type=\"url\" className=\"form__name\" name=\"avatar__link\" placeholder=\"Ссылка на картинку\" ref={avatarRef} required/>\n            <span id=\"avatar-error\" className=\"error\"/>\n        </PopupWithForm>\n    )\n}\n\nexport default EditAvatarPopup;","import PopupWithForm from \"./PopupWithForm.js\";\nimport React from \"react\";\n\nfunction AddPlacePopup(props) {\n    const [name, setName] = React.useState(\"\");\n    const [link, setLink] = React.useState(\"\");\n\n    function handleNameChange(e) {\n        setName(e.target.value);\n    }\n    function handleLinkChange(e) {\n        setLink(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onAddPlace({name: name, link: link});\n    }\n\n    return(\n    <PopupWithForm\n        name=\"add\"\n        title=\"Новое Место\"\n        button=\"Создать\"\n        onSubmit={handleSubmit}\n        isOpen={props.isOpen}\n        onClose={props.onClose}\n    >\n        <input id=\"title\" name=\"title__add\" type=\"text\" minLength=\"2\" maxLength=\"30\" className=\"form__name\" placeholder=\"Название\" onChange={handleNameChange} value={name} required/>\n        <span id=\"title-error\" className=\"error\"/>\n        <input id=\"link\" name=\"link__add\" type=\"url\" className=\"form__name\" placeholder=\"Ссылка на картинку\" onChange={handleLinkChange} value={link} required/>\n        <span id=\"link-error\" className=\"error\"/>\n    </PopupWithForm>\n)\n}\n\nexport default AddPlacePopup;","import '../index.css';\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\nimport PopupWithForm from './PopupWithForm.js';\nimport ImagePopup from './ImagePopup.js';\nimport React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport api from '../utils/api.js';\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\n\n\nfunction App() {\n\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n    const [selectedCard, setSelectedCard] = React.useState({});\n    const [isPopupWithImageOpen, setIsPopupWithImageOpen] = React.useState(false);\n    const [cards, setCards] = React.useState([]);\n    const [currentUser, setCurrentUser] = React.useState({ name: '', about: ''});\n\n\n\n\n    React.useEffect(() => {\n        const promises = [api.getUserInfo(), api.getInitialCards()];\n\n        Promise.all(promises)\n            .then(([user, cards]) => {\n                setCurrentUser(user);\n                setCards(cards);\n            })\n            .catch((error) => {\n                console.log(error);\n            })\n    }, []);\n\n\n\n    function handleEditProfileClick() {\n        setIsEditProfilePopupOpen(true);\n    }\n\n    function handleAddPlaceClick(){\n        setIsAddPlacePopupOpen(true);\n    }\n\n    function handleEditAvatarClick() {\n        setIsEditAvatarPopupOpen(true);\n    }\n\n    function handleCardClick(card) {\n        setSelectedCard(card);\n        setIsPopupWithImageOpen(true);\n    }\n\n    function closeAllPopups() {\n        setIsEditProfilePopupOpen(false);\n        setIsAddPlacePopupOpen(false);\n        setIsEditAvatarPopupOpen(false);\n        setSelectedCard('' );\n        setIsPopupWithImageOpen(false);\n    }\n\n    function handleLikeClick(card) {\n        const isLiked = card.likes.some((i) => i._id === currentUser._id);\n        // Отправляем запрос в API и получаем обновлённые данные карточки\n        api.changeLikeCardStatus(card._id, !isLiked)\n            .then((newCard) => {\n                // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n                const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n                // Обновляем стейт\n                setCards(newCards);\n            })\n            .catch((err) => console.log(err));\n    }\n\n    function handleDeleteClick(card){\n        api.deleteCard(card._id)\n            .then((newCard)=> {\n                const newCards = cards.filter((c) =>\n                    c._id === card._id ? \"\" : newCard\n                );\n                setCards(newCards);\n            })\n            .catch((err) => console.log(err));\n    }\n\n    function handleUpdateUser({name, about}) {\n        return api.setUserInfo(name, about)\n            .then((result) => {\n                setCurrentUser(result);\n                closeAllPopups();\n            })\n            .catch((err) => console.log(err));\n    }\n\n    function handleUpdateAvatar(data) {\n        api.updateAvatarImage(data)\n            .then((result) => {\n                setCurrentUser(result);\n                closeAllPopups();\n            })\n            .catch((err) => console.log(err));\n    }\n\n    function handleAddPlaceSubmit({name, link}) {\n        api.addCard(name, link)\n            .then((newCard) => {\n                setCards([newCard, ...cards]);\n                closeAllPopups();\n            })\n            .catch((err) => console.log(err));\n    }\n\n\n\n    return (\n<>\n    <CurrentUserContext.Provider value={currentUser}>\n      <Header/>\n      <Main\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onCardClick={handleCardClick}\n          cards={cards}\n          onCardLike={handleLikeClick}\n          onCardDelete={handleDeleteClick}\n          />\n      <Footer/>\n\n        <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n        />\n        <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n        />\n        <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlaceSubmit}\n        />\n\n\n\n          <PopupWithForm name=\"agreePopup\"\n                         title=\"Вы уверены?\"\n                         button=\"Да\">\n          </PopupWithForm>\n\n\n          <ImagePopup\n              card={selectedCard}\n              isOpen={isPopupWithImageOpen}\n              onClose={closeAllPopups}\n          >\n          </ImagePopup>\n    </CurrentUserContext.Provider>\n</>\n  );\n}\n\nexport default App;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}